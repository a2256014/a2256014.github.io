---
layout: post
title: Computer Architecture
subtitle: Pwnable & Reversing을 위한 기초 지식
author: g3rm
categories: 
banner:
  image: /assets/images/banners/home.gif
  opacity: 0.618
  background: "#000"
  heading_style: "font-size: 4.25em; font-weight: bold;"
  subheading_style: "color: gold"
tags:
  - Pwnable
  - Reversing
  - Register
  - Architecture
sidebar:
---
> 리버싱, 포너블 전에 알아야 할 기본 지식들을 정리

## Architecture
### 설명
CPU의 내부 구성 요소, 레지스터, 명령어 등을 포함하는 개념   

아키텍처를 알아야 분석 시 어셈블리어 분석 및 POC 작성을 잘 할 수 있다.
그 이유는 비트 별로 레지스터의 명과 크기가 다르며 종류 별로 작동 가능한 OS가 다르기 때문이다.
[*그 외 다양한 이유가 있을 수 있음*]
   
아키텍처의 비트는 ***CPU가 한번에 처리할 수 있는 데이터의 크기***로 ***WORD***라고 부른다.

### 종류
**x86**
- Intel 기반 32bit CPU
- x86은 32bit CPU의 대표명사처럼 불림
- Windows, Linux, Mac OS (BigSur까지) 지원

**x86_64 (amd64)**
- Intel 기반 64bit CPU, x86과 호환됨.
- Windows, Linux, Mac OS (BigSur까지) 지원

**arm**
- RISC(Reduced Instruction Set Computer) 아키텍처
- 저전력 소비, 높은 효율성
- arm 기반 32bit CPU
- x86과 아예 달라서 호환 안 됨.
- Linux, Mac OS (Monterey부 터), Android, iOS

**arm64**
- arm 기반 64bit CPU
- 32bit arm과 호환됨
- Linux, Mac OS (Monterey부터), Android, iOS

## Register
### General Register

| **이름**                     | **용도**                   |
| -------------------------- | ------------------------ |
| rax (accumulator register) | 함수의 반환 값                 |
| rbx (base register)        | x64에서는 주된 용도 없음          |
| rcx (counter register)     | 반복문의 반복 횟수, 각종 연산의 시행 횟수 |
| rdx (data register)        | x64에서는 주된 용도 없음          |
| rsi (source index)         | 데이터를 옮길 때 원본을 가리키는 포인터   |
| rdi (destination index)    | 데이터를 옮길 때 목적지를 가리키는 포인터  |
| rsp (stack pointer)        | 사용중인 스택의 위치를 가리키는 포인터    |
| rbp (stack base pointer)   | 스택의 바닥을 가리키는 포인터         |
   
### Segment Register


### Flag Register

### Instruction Pointer Register